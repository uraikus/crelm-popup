module.exports=popup;var cssLoaded,crelm=require("crelm"),zIndex=10;function popup(e,t,o){cssLoaded||init();var i=crelm({parent:document.body,clss:"c-blur",style:{zIndex:zIndex}}),n=crelm({parent:document.body,clss:"c-popup",children:e,style:{zIndex:zIndex},blur:i,maxWidth:o||300});return n.close=function(e){n.style.opacity="",i.style.opacity="",removeEventListener("resize",n.resize),setTimeout(function(){n.remove(),i.remove(),"function"==typeof e&&e()},600)},t&&(i.onclick=n.close),setTimeout(function(){n.style.opacity="1",i.style.opacity="0.4"},5),n.resize=function(){var e=n.maxWidth;innerWidth+40<e?(n.style.width=innerWidth-40+"px",n.style.left="20px"):(n.style.width=e+"px",n.style.left=(innerWidth-e)/2+"px")},n.setWidth=function(e){n.maxWidth=e,n.resize()},n.resize(),addEventListener("resize",n.resize),n}function init(){crelm({parent:document.head,tag:"style",html:".c-blur,.c-popup{opacity:0;position:fixed;box-sizing:border-box;transition:all 0.6s}.c-popup{border-radius:5px;height:auto;top:20px;max-height:calc(100% - 40px);box-shadow:0 0 4px #000;background-color:#c0c0c0;padding:4px;overflow:auto}.c-blur{top:0;height:100%;left:0;width:100%;background-color:#000}"})}